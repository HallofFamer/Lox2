namespace test.types

trait TBox<T> { 
    
    T getContent() {
        throw NotImplementedException("Not implemented, subclass responsibility")
    }

    void setContent(T content) {
        throw NotImplementedException("Not implemented, subclass responsibility")
    }
}

class Box<T> with TBox<T> {

    var T content

    __init__(T content) {
        this.content = content
    }

    T getContent() {
        return this.content
    }

    void setContent(T content) {
        this.content = content
    }

    String toString() {
        //return "Box<${T}>(${this.content})"
        return "Box(${this.content})"
    }
}

class KeyedBox<S, T> extends Box<T> { 

    val S key

    __init__(S key, T content) {
        this.key = key
        this.content = content
    }

    K getKey() {
        return this.key
    }
}

println("Creating generic trait TBox: ")
println(TBox)

println("Creating generic class Box: ")
println(Box)

println("Creating generic class KeyedBox: ")
println(KeyedBox)

val box = Box<Int>(42)
println("Instantiating from generic class Box: ${box}")
box.setContent(100)
//box.setContent("Hello World")
println("Box new content: ${box.getContent()}")